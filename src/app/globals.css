@tailwind base;
@tailwind components;
@tailwind utilities;

/* MOBİL SCROLL FIX */
html {
  height: 100%;
  overflow-x: hidden;
  -webkit-overflow-scrolling: touch;
}

body {
  min-height: 100%;
  min-height: -webkit-fill-available;
  overflow-x: hidden;
  overflow-y: auto;
  -webkit-overflow-scrolling: touch;
  position: relative;
}

@supports (-webkit-touch-callout: none) {
  body {
    min-height: -webkit-fill-available;
  }
}

main,
.main-container,
#__next,
[data-nextjs-scroll-focus-boundary] {
  min-height: 100vh;
  overflow-y: auto;
  overflow-x: hidden;
  -webkit-overflow-scrolling: touch;
}

* {
  max-width: 100vw;
}

@layer base {
  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
  }
  
  html {
    scroll-behavior: smooth;
  }
  
  body {
    @apply bg-cream text-text-dark;
    line-height: 1.7;
    overflow-x: hidden;
  }
  
  h1, h2, h3, h4, h5 {
    @apply font-serif;
    font-weight: 500;
    line-height: 1.2;
  }
}

@layer components {
  /* Scroll reveal animation */
  .reveal {
    opacity: 0;
    transform: translateY(40px);
    transition: all 0.8s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .reveal.active {
    opacity: 1;
    transform: translateY(0);
  }

  /* Delay classes */
  .delay-1 { animation-delay: 0.2s; }
  .delay-2 { animation-delay: 0.4s; }
  .delay-3 { animation-delay: 0.6s; }
  .delay-4 { animation-delay: 0.8s; }
}

@layer utilities {
  /* OLUK Marka Renkleri */
  :root {
    --deep-teal: #0D4F4F;
    --warm-gold: #C9A962;
    --soft-cream: #F5F0E6;
  }

  .text-balance {
    text-wrap: balance;
  }
  
  .container-custom {
    @apply mx-auto max-w-7xl px-4 sm:px-6 lg:px-8;
  }

  /* Hover ve Microinteraction Utilities */
  .hover-lift {
    @apply transition-all duration-300 hover:-translate-y-1 hover:shadow-lg;
  }
  
  .hover-scale {
    @apply transition-transform duration-200 hover:scale-105 active:scale-95;
  }
  
  .hover-glow {
    @apply transition-shadow duration-300 hover:shadow-[0_0_30px_rgba(13,79,79,0.3)];
  }

  .hover-glow-gold {
    @apply transition-shadow duration-300 hover:shadow-[0_0_30px_rgba(201,169,98,0.4)];
  }

  /* Button Base Styles */
  .btn-primary {
    @apply inline-flex items-center gap-3 px-8 py-4 bg-deep-teal text-white rounded-full font-medium shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105 active:scale-95;
  }

  .btn-secondary {
    @apply inline-flex items-center gap-3 px-8 py-4 bg-warm-gold text-white rounded-full font-medium shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105 active:scale-95;
  }

  /* Mobil Scroll Fix - iOS Safari */
  .mobile-scroll-fix {
    -webkit-overflow-scrolling: touch;
    overscroll-behavior-y: contain;
  }

  /* Glow Effects */
  .glow-teal {
    box-shadow: 0 0 20px rgba(13, 79, 79, 0.5);
  }

  .glow-gold {
    box-shadow: 0 0 20px rgba(201, 169, 98, 0.5);
  }

  /* Shimmer Loading */
  .shimmer {
    background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
    background-size: 200% 100%;
    animation: shimmer 1.5s infinite;
  }

  /* Streak Fire Animation */
  .streak-fire {
    animation: fireGlow 1.5s ease-in-out infinite;
  }

  /* Badge States */
  .badge-locked {
    filter: grayscale(100%) blur(2px);
    opacity: 0.4;
  }

  .badge-unlocked {
    animation: badgeUnlock 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55);
  }

  /* Level Colors */
  .level-bronze { @apply glow-gold; }
  .level-silver { box-shadow: 0 0 20px rgba(192, 192, 192, 0.5); }
  .level-gold { @apply glow-gold; }
  .level-diamond { box-shadow: 0 0 20px rgba(185, 242, 255, 0.5); }

  /* Buttons */
  .btn-primary {
    @apply px-6 py-3 bg-deep-teal text-white rounded-full hover:bg-deep-teal-light transition-all shadow-lg hover:shadow-xl;
  }

  .btn-gold {
    background: linear-gradient(135deg, #C9A962, #d4b87a);
    @apply px-6 py-3 text-white rounded-full hover:shadow-xl transition-all;
  }

  /* Card */
  .card {
    @apply bg-white rounded-2xl shadow-lg p-6 backdrop-blur-sm;
  }

  @keyframes shimmer {
    0% { background-position: -200% 0; }
    100% { background-position: 200% 0; }
  }
}

/* =====================================================
   OLUK MOBİL SCROLL FIX - 21 Aralık 2025
   Ek mobil optimizasyonlar ve touch iyileştirmeleri
   ===================================================== */

@layer utilities {
  /* Touch action - mobil tıklama optimizasyonu */
  * {
    touch-action: manipulation;
  }

  /* Video background fix - scroll engellemesini kaldır */
  .video-background,
  [class*="video-bg"],
  video[class*="absolute"],
  video[class*="fixed"] {
    position: fixed !important;
    pointer-events: none !important;
    z-index: -1 !important;
  }

  /* iOS Safari özel düzeltmeler */
  @supports (-webkit-touch-callout: none) {
    html {
      height: -webkit-fill-available;
    }
    
    body {
      min-height: -webkit-fill-available;
      position: relative;
    }
  }

  /* Mobil viewport fix */
  @media screen and (max-width: 639px) {
    html, body {
      overflow-x: hidden !important;
      overflow-y: auto !important;
      height: 100%;
    }
    
    /* Buton minimum boyutları (Apple HIG) */
    button, 
    .btn, 
    a[class*="btn"],
    [role="button"] {
      min-height: 44px;
      min-width: 44px;
      touch-action: manipulation;
    }
    
    /* Input alanları */
    input,
    textarea,
    select {
      font-size: 16px; /* iOS zoom engelleyici */
    }
  }

  /* Smooth scroll behavior */
  html {
    scroll-behavior: smooth;
  }

  @media (prefers-reduced-motion: reduce) {
    html {
      scroll-behavior: auto;
    }
  }
}
